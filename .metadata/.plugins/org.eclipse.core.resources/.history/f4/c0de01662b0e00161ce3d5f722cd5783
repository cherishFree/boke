package com.sjf.action;

import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;

import org.apache.struts2.ServletActionContext;

import com.opensymphony.xwork2.ActionSupport;

public class PhotoUpload extends ActionSupport{
	private File myFile;
	private String myFileContentType;
	private String myFileFileName;
	public File getMyFile() {
		return myFile;
	}
	public void setMyFile(File myFile) {
		this.myFile = myFile;
	}
	public String getMyFileContentType() {
		return myFileContentType;
	}
	public void setMyFileContentType(String myFileContentType) {
		this.myFileContentType = myFileContentType;
	}
	public String getMyFileFileName() {
		return myFileFileName;
	}
	public void setMyFileFileName(String myFileFileName) {
		this.myFileFileName = myFileFileName;
	}
	
	public String execute() throws Exception {
		//创建一个输入流
		InputStream is = new FileInputStream(myFile);
		//设置文件保存目录
		String photoPath = ServletActionContext.getServletContext().getRealPath("/user/photo/lifengxing");
		File filePhotoPath = new File(photoPath);
		if(!filePhotoPath.isDirectory()){
			filePhotoPath.mkdir();
		}
		//设置目标文件
		File toFile = new File(this.getMyFileFileName());
	
		
		return super.execute();
	}
	
}
